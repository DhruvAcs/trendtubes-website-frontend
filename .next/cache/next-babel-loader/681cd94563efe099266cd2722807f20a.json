{"ast":null,"code":"import _classCallCheck from \"/home/trevorb/Documents/VSCode Projects/statuscord/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/trevorb/Documents/VSCode Projects/statuscord/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"/home/trevorb/Documents/VSCode Projects/statuscord/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { createContext } from 'react'; // import { FilteredResultsAction } from '../reducers/FilteredResultsReducer';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nvar Scene = /*#__PURE__*/function () {\n  function Scene(_ref) {\n    var display = _ref.display,\n        previewImage = _ref.previewImage,\n        sceneObject = _ref.sceneObject,\n        editorInputs = _ref.editorInputs;\n\n    _classCallCheck(this, Scene);\n\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"display\", void 0);\n\n    _defineProperty(this, \"previewImage\", void 0);\n\n    _defineProperty(this, \"sceneObject\", void 0);\n\n    _defineProperty(this, \"editorInputs\", void 0);\n\n    // this.id = nanoid(12);\n    this.id = uuidv4();\n    this.display = display;\n    this.previewImage = previewImage;\n    this.sceneObject = sceneObject;\n    this.editorInputs = editorInputs;\n  }\n\n  _createClass(Scene, [{\n    key: \"isActiveScene\",\n    value: function isActiveScene(sceneManager) {\n      this.id == sceneManager.activeScene;\n    }\n  }]);\n\n  return Scene;\n}();\n\nvar SceneManager = /*#__PURE__*/function () {\n  function SceneManager(_ref2) {\n    var scenes = _ref2.scenes;\n\n    _classCallCheck(this, SceneManager);\n\n    _defineProperty(this, \"scenes\", void 0);\n\n    _defineProperty(this, \"activeScene\", void 0);\n\n    this.scenes = scenes || [];\n    this.activeScene = scenes && scenes[0].id || null;\n  }\n\n  _createClass(SceneManager, [{\n    key: \"getActiveScene\",\n    value: function getActiveScene() {\n      var _this = this;\n\n      console.log('active scene find', this.activeScene, this.scenes, this.scenes.find(function (scene) {\n        return scene.id == _this.activeScene;\n      }));\n      return this.activeScene ? this.scenes.find(function (scene) {\n        return scene.id == _this.activeScene;\n      }) || null : null;\n    }\n  }, {\n    key: \"setActiveScene\",\n    value: function setActiveScene(id, sceneDispatch) {\n      console.log('set active scene', this.activeScene, id);\n      this.activeScene = id;\n      sceneDispatch(this.activeScene);\n      console.log('set active scene', this.activeScene, id);\n    }\n  }, {\n    key: \"getScenes\",\n    value: function getScenes() {\n      return this.scenes;\n    }\n  }, {\n    key: \"addScene\",\n    value: function addScene(scene) {\n      this.scenes.push(scene);\n    }\n  }]);\n\n  return SceneManager;\n}();\n\nvar contextProps = {\n  productName: '',\n  previewStatus: null,\n  setPreviewStatus: null,\n  sceneManager: new SceneManager({\n    scenes: null\n  })\n};\nvar EditorContext = /*#__PURE__*/createContext(contextProps);\nexport default EditorContext;\nexport { Scene, SceneManager };","map":{"version":3,"sources":["/home/trevorb/Documents/VSCode Projects/statuscord/react/editor-context.ts"],"names":["createContext","v4","uuidv4","Scene","display","previewImage","sceneObject","editorInputs","id","sceneManager","activeScene","SceneManager","scenes","console","log","find","scene","sceneDispatch","push","contextProps","productName","previewStatus","setPreviewStatus","EditorContext"],"mappings":";;;AAEA,SAASA,aAAT,QAA8B,OAA9B,C,CACA;;AAMA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;;IAaMC,K;AAUL,uBAKe;AAAA,QAJdC,OAIc,QAJdA,OAIc;AAAA,QAHdC,YAGc,QAHdA,YAGc;AAAA,QAFdC,WAEc,QAFdA,WAEc;AAAA,QADdC,YACc,QADdA,YACc;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AACd;AACA,SAAKC,EAAL,GAAUN,MAAM,EAAhB;AACA,SAAKE,OAAL,GAAeA,OAAf;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA;;;;kCAEaE,Y,EAA4B;AACzC,WAAKD,EAAL,IAAWC,YAAY,CAACC,WAAxB;AACA;;;;;;IAGIC,Y;AAIL,+BAAoD;AAAA,QAAtCC,MAAsC,SAAtCA,MAAsC;;AAAA;;AAAA;;AAAA;;AACnD,SAAKA,MAAL,GAAcA,MAAM,IAAI,EAAxB;AACA,SAAKF,WAAL,GAAoBE,MAAM,IAAIA,MAAM,CAAC,CAAD,CAAN,CAAUJ,EAArB,IAA4B,IAA/C;AACA;;;;qCAE8B;AAAA;;AAC9BK,MAAAA,OAAO,CAACC,GAAR,CACC,mBADD,EAEC,KAAKJ,WAFN,EAGC,KAAKE,MAHN,EAIC,KAAKA,MAAL,CAAYG,IAAZ,CAAiB,UAACC,KAAD;AAAA,eAAWA,KAAK,CAACR,EAAN,IAAY,KAAI,CAACE,WAA5B;AAAA,OAAjB,CAJD;AAMA,aAAO,KAAKA,WAAL,GACJ,KAAKE,MAAL,CAAYG,IAAZ,CAAiB,UAACC,KAAD;AAAA,eAAWA,KAAK,CAACR,EAAN,IAAY,KAAI,CAACE,WAA5B;AAAA,OAAjB,KAA6D,IADzD,GAEJ,IAFH;AAGA;;;mCAGAF,E,EACAS,a,EACC;AACDJ,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC,KAAKJ,WAArC,EAAkDF,EAAlD;AACA,WAAKE,WAAL,GAAmBF,EAAnB;AACAS,MAAAA,aAAa,CAAC,KAAKP,WAAN,CAAb;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC,KAAKJ,WAArC,EAAkDF,EAAlD;AACA;;;gCAEW;AACX,aAAO,KAAKI,MAAZ;AACA;;;6BAEQI,K,EAAc;AACtB,WAAKJ,MAAL,CAAYM,IAAZ,CAAiBF,KAAjB;AACA;;;;;;AAUF,IAAMG,YAAsB,GAAG;AAC9BC,EAAAA,WAAW,EAAE,EADiB;AAE9BC,EAAAA,aAAa,EAAE,IAFe;AAG9BC,EAAAA,gBAAgB,EAAG,IAHW;AAM9Bb,EAAAA,YAAY,EAAE,IAAIE,YAAJ,CAAiB;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAjB;AANgB,CAA/B;AASA,IAAMW,aAAa,gBAAGvB,aAAa,CAAWmB,YAAX,CAAnC;AAEA,eAAeI,aAAf;AACA,SAASpB,KAAT,EAAgBQ,YAAhB","sourcesContent":["import { SetStateAction } from 'react';\nimport { Dispatch } from 'react';\nimport { createContext } from 'react';\n// import { FilteredResultsAction } from '../reducers/FilteredResultsReducer';\nimport DiscordStatus from './discord-status';\nimport { EditorInputType } from './editor-input';\n// import { CartItem, CartItems, CartReducer } from \"../reducers/CartReducer\";\nimport { nanoid } from 'nanoid';\nimport { stringify } from 'querystring';\nimport { v4 as uuidv4 } from 'uuid';\n\ninterface SceneProps {\n\t// id: string;\n\tdisplay: string;\n\tpreviewImage: String | Blob;\n\tsceneObject: JSX.Element | null;\n\teditorInputs: {\n\t\tkey: { internal: string; display: string };\n\t\ttype: EditorInputType;\n\t}[];\n}\n\nclass Scene {\n\tid: string;\n\tdisplay: string;\n\tpreviewImage: String | Blob;\n\tsceneObject: JSX.Element | null;\n\teditorInputs: {\n\t\tkey: { internal: string; display: string };\n\t\ttype: EditorInputType;\n\t}[];\n\n\tconstructor({\n\t\tdisplay,\n\t\tpreviewImage,\n\t\tsceneObject,\n\t\teditorInputs,\n\t}: SceneProps) {\n\t\t// this.id = nanoid(12);\n\t\tthis.id = uuidv4();\n\t\tthis.display = display;\n\t\tthis.previewImage = previewImage;\n\t\tthis.sceneObject = sceneObject;\n\t\tthis.editorInputs = editorInputs;\n\t}\n\n\tisActiveScene(sceneManager: SceneManager) {\n\t\tthis.id == sceneManager.activeScene;\n\t}\n}\n\nclass SceneManager {\n\tscenes: Scene[];\n\tactiveScene: string | null;\n\n\tconstructor({ scenes }: { scenes: Scene[] | null }) {\n\t\tthis.scenes = scenes || [];\n\t\tthis.activeScene = (scenes && scenes[0].id) || null;\n\t}\n\n\tgetActiveScene(): Scene | null {\n\t\tconsole.log(\n\t\t\t'active scene find',\n\t\t\tthis.activeScene,\n\t\t\tthis.scenes,\n\t\t\tthis.scenes.find((scene) => scene.id == this.activeScene)\n\t\t);\n\t\treturn this.activeScene\n\t\t\t? this.scenes.find((scene) => scene.id == this.activeScene) || null\n\t\t\t: null;\n\t}\n\n\tsetActiveScene(\n\t\tid: string,\n\t\tsceneDispatch: React.Dispatch<React.SetStateAction<string | null>>\n\t) {\n\t\tconsole.log('set active scene', this.activeScene, id);\n\t\tthis.activeScene = id;\n\t\tsceneDispatch(this.activeScene);\n\t\tconsole.log('set active scene', this.activeScene, id);\n\t}\n\n\tgetScenes() {\n\t\treturn this.scenes;\n\t}\n\n\taddScene(scene: Scene) {\n\t\tthis.scenes.push(scene);\n\t}\n}\n\ninterface IContext {\n\tproductName: string;\n\tpreviewStatus: DiscordStatus | null;\n\tsetPreviewStatus: Dispatch<SetStateAction<DiscordStatus | null>>;\n\tsceneManager: SceneManager;\n}\n\nconst contextProps: IContext = {\n\tproductName: '',\n\tpreviewStatus: null,\n\tsetPreviewStatus: (null as unknown) as Dispatch<\n\t\tSetStateAction<DiscordStatus | null>\n\t>,\n\tsceneManager: new SceneManager({ scenes: null }),\n};\n\nconst EditorContext = createContext<IContext>(contextProps);\n\nexport default EditorContext;\nexport { Scene, SceneManager };\n"]},"metadata":{},"sourceType":"module"}