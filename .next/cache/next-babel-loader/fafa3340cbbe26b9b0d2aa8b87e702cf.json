{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createContext } from 'react'; // import { FilteredResultsAction } from '../reducers/FilteredResultsReducer';\n\nimport { Scene } from './scenemanager-reducer';\n\nclass SceneManager {\n  constructor({\n    scenes\n  }) {\n    _defineProperty(this, \"scenes\", void 0);\n\n    _defineProperty(this, \"activeScene\", void 0);\n\n    this.scenes = scenes || [];\n    this.activeScene = scenes && scenes[0].id || null;\n  }\n\n  getActiveScene() {\n    return this.activeScene;\n  }\n\n  findActiveScene() {\n    console.log('active scene find', this.activeScene, this.scenes, this.scenes.find(scene => scene.id == this.activeScene));\n    return this.activeScene ? this.scenes.find(scene => scene.id == this.activeScene) || null : null;\n  }\n\n  setActiveScene(id, sceneDispatch) {\n    // this.activeScene = id;\n    // console.log('set active scene', this.activeScene, id);\n    this.activeScene = id;\n    sceneDispatch(id);\n    console.log(this.activeScene, this.getActiveScene()); // console.log(\n    // \t'set active scene',\n    // \tthis.getActiveScene(),\n    // \tthis.activeScene,\n    // \tid\n    // );\n  }\n\n  getScenes() {\n    return this.scenes;\n  }\n\n  addScene(scene) {\n    this.scenes.push(scene);\n  }\n\n}\n\nclass Product {\n  constructor() {\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"createdAt\", void 0);\n\n    _defineProperty(this, \"updatedAt\", void 0);\n\n    _defineProperty(this, \"author\", void 0);\n\n    _defineProperty(this, \"price\", void 0);\n\n    _defineProperty(this, \"editorInputs\", void 0);\n\n    _defineProperty(this, \"variants\", void 0);\n  }\n\n}\n\nconst contextProps = {\n  productName: '',\n  previewStatus: null,\n  setPreviewStatus: null,\n  // sceneManager: new SceneManager({ scenes: null }),\n  // setSceneManager: (null as unknown) as Dispatch<SetStateAction<SceneManager>>,\n  sceneManager: {\n    activeScene: null,\n    scenes: []\n  },\n  dispatchSceneManager: null\n};\nconst EditorContext = /*#__PURE__*/createContext(contextProps);\nexport default EditorContext;\nexport { Scene, SceneManager };","map":{"version":3,"sources":["/home/trevorb/Documents/VSCode Projects/statuscord/react/editor-context.ts"],"names":["createContext","Scene","SceneManager","constructor","scenes","activeScene","id","getActiveScene","findActiveScene","console","log","find","scene","setActiveScene","sceneDispatch","getScenes","addScene","push","Product","contextProps","productName","previewStatus","setPreviewStatus","sceneManager","dispatchSceneManager","EditorContext"],"mappings":";;AAEA,SAASA,aAAT,QAA8B,OAA9B,C,CACA;;AAMA,SAASC,KAAT,QAA0C,wBAA1C;;AAEA,MAAMC,YAAN,CAAmB;AAIlBC,EAAAA,WAAW,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAyC;AAAA;;AAAA;;AACnD,SAAKA,MAAL,GAAcA,MAAM,IAAI,EAAxB;AACA,SAAKC,WAAL,GAAoBD,MAAM,IAAIA,MAAM,CAAC,CAAD,CAAN,CAAUE,EAArB,IAA4B,IAA/C;AACA;;AAEDC,EAAAA,cAAc,GAAG;AAChB,WAAO,KAAKF,WAAZ;AACA;;AAEDG,EAAAA,eAAe,GAAiB;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CACC,mBADD,EAEC,KAAKL,WAFN,EAGC,KAAKD,MAHN,EAIC,KAAKA,MAAL,CAAYO,IAAZ,CAAkBC,KAAD,IAAWA,KAAK,CAACN,EAAN,IAAY,KAAKD,WAA7C,CAJD;AAMA,WAAO,KAAKA,WAAL,GACJ,KAAKD,MAAL,CAAYO,IAAZ,CAAkBC,KAAD,IAAWA,KAAK,CAACN,EAAN,IAAY,KAAKD,WAA7C,KAA6D,IADzD,GAEJ,IAFH;AAGA;;AAEDQ,EAAAA,cAAc,CACbP,EADa,EAEbQ,aAFa,EAGZ;AACD;AAEA;AACA,SAAKT,WAAL,GAAmBC,EAAnB;AACAQ,IAAAA,aAAa,CAACR,EAAD,CAAb;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,WAAjB,EAA8B,KAAKE,cAAL,EAA9B,EANC,CAOD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEDQ,EAAAA,SAAS,GAAG;AACX,WAAO,KAAKX,MAAZ;AACA;;AAEDY,EAAAA,QAAQ,CAACJ,KAAD,EAAe;AACtB,SAAKR,MAAL,CAAYa,IAAZ,CAAiBL,KAAjB;AACA;;AAjDiB;;AAsDnB,MAAMM,OAAN,CAAc;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAwBd,MAAMC,YAAsB,GAAG;AAC9BC,EAAAA,WAAW,EAAE,EADiB;AAE9BC,EAAAA,aAAa,EAAE,IAFe;AAG9BC,EAAAA,gBAAgB,EAAG,IAHW;AAM9B;AACA;AACAC,EAAAA,YAAY,EAAE;AAAElB,IAAAA,WAAW,EAAE,IAAf;AAAqBD,IAAAA,MAAM,EAAE;AAA7B,GARgB;AAS9BoB,EAAAA,oBAAoB,EAAG;AATO,CAA/B;AAYA,MAAMC,aAAa,gBAAGzB,aAAa,CAAWmB,YAAX,CAAnC;AAEA,eAAeM,aAAf;AACA,SAASxB,KAAT,EAAgBC,YAAhB","sourcesContent":["import { SetStateAction } from 'react';\nimport { Dispatch } from 'react';\nimport { createContext } from 'react';\n// import { FilteredResultsAction } from '../reducers/FilteredResultsReducer';\nimport DiscordStatus from './discord-status';\nimport { EditorInputType } from './editor-input';\n// import { CartItem, CartItems, CartReducer } from \"../reducers/CartReducer\";\nimport { nanoid } from 'nanoid';\nimport { stringify } from 'querystring';\nimport { Scene, SceneManagerAction } from './scenemanager-reducer';\n\nclass SceneManager {\n\tscenes: Scene[];\n\tactiveScene: string | null;\n\n\tconstructor({ scenes }: { scenes: Scene[] | null }) {\n\t\tthis.scenes = scenes || [];\n\t\tthis.activeScene = (scenes && scenes[0].id) || null;\n\t}\n\n\tgetActiveScene() {\n\t\treturn this.activeScene;\n\t}\n\n\tfindActiveScene(): Scene | null {\n\t\tconsole.log(\n\t\t\t'active scene find',\n\t\t\tthis.activeScene,\n\t\t\tthis.scenes,\n\t\t\tthis.scenes.find((scene) => scene.id == this.activeScene)\n\t\t);\n\t\treturn this.activeScene\n\t\t\t? this.scenes.find((scene) => scene.id == this.activeScene) || null\n\t\t\t: null;\n\t}\n\n\tsetActiveScene(\n\t\tid: string,\n\t\tsceneDispatch: React.Dispatch<React.SetStateAction<string | null>>\n\t) {\n\t\t// this.activeScene = id;\n\n\t\t// console.log('set active scene', this.activeScene, id);\n\t\tthis.activeScene = id;\n\t\tsceneDispatch(id);\n\t\tconsole.log(this.activeScene, this.getActiveScene());\n\t\t// console.log(\n\t\t// \t'set active scene',\n\t\t// \tthis.getActiveScene(),\n\t\t// \tthis.activeScene,\n\t\t// \tid\n\t\t// );\n\t}\n\n\tgetScenes() {\n\t\treturn this.scenes;\n\t}\n\n\taddScene(scene: Scene) {\n\t\tthis.scenes.push(scene);\n\t}\n}\n\ninterface IProductProps {}\n\nclass Product {\n\tid: string;\n\tname: string;\n\tcreatedAt: Date;\n\tupdatedAt: Date;\n\tauthor: string;\n\tprice: number;\n\teditorInputs: {\n\t\tkey: { internal: string; display: string };\n\t\ttype: EditorInputType;\n\t}[];\n\tvariants: { previewImage: String | Blob; sceneObject: JSX.Element | null }[];\n}\n\ninterface IContext {\n\tproduct: IProduct;\n\tpreviewStatus: DiscordStatus | null;\n\tsetPreviewStatus: Dispatch<SetStateAction<DiscordStatus | null>>;\n\tsceneManager: { activeScene: Scene | any; scenes: Scene[] };\n\tdispatchSceneManager: React.Dispatch<SceneManagerAction>;\n\t// sceneManager: SceneManager;\n\t// setSceneManager: Dispatch<SetStateAction<SceneManager>>;\n}\n\nconst contextProps: IContext = {\n\tproductName: '',\n\tpreviewStatus: null,\n\tsetPreviewStatus: (null as unknown) as Dispatch<\n\t\tSetStateAction<DiscordStatus | null>\n\t>,\n\t// sceneManager: new SceneManager({ scenes: null }),\n\t// setSceneManager: (null as unknown) as Dispatch<SetStateAction<SceneManager>>,\n\tsceneManager: { activeScene: null, scenes: [] },\n\tdispatchSceneManager: (null as unknown) as React.Dispatch<SceneManagerAction>,\n};\n\nconst EditorContext = createContext<IContext>(contextProps);\n\nexport default EditorContext;\nexport { Scene, SceneManager };\n"]},"metadata":{},"sourceType":"module"}